(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"17dc":function(e,t,o){},b44c:function(e,t,o){e.exports=o.p+"img/PickDeli_logo.feadb224.png"},dd7b:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("headerBox",{attrs:{iconToggleShow:!1}}),o("div",{staticClass:"mainBox"},[e._m(0),o("div",{staticClass:"formBox"},[o("div",{staticClass:"formItem"},[o("div",{staticClass:"name"},[e._v("会員ログイン")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.ruleForm.account,expression:"ruleForm.account"}],staticClass:"input",attrs:{type:"text",placeholder:"携帯番号"},domProps:{value:e.ruleForm.account},on:{input:function(t){t.target.composing||e.$set(e.ruleForm,"account",t.target.value)}}}),o("i",{staticClass:"iconPhone"}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.ruleForm.password,expression:"ruleForm.password"}],staticClass:"input",attrs:{type:"password",placeholder:"パスワード"},domProps:{value:e.ruleForm.password},on:{input:function(t){t.target.composing||e.$set(e.ruleForm,"password",t.target.value)}}}),o("i",{staticClass:"iconPassword"})]),o("div",{staticClass:"loginBtn",on:{click:e.login}},[e._v("会員ログイン")]),o("van-checkbox",{staticClass:"checkBox",attrs:{"checked-color":"#fff",shape:"square","label-disabled":""},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[o("span",{staticClass:"text"},[e._v("記憶する")])]),o("div",{staticClass:"registerBtn",on:{click:function(t){return e.$router.push("/register")}}},[e._v("Pick&Deli新規会員登録")])],1)])],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logo"},[s("img",{attrs:{src:o("b44c"),alt:""}})])}],r=(o("e7e5"),o("d399")),c=(o("a909"),o("3acc")),i=(o("3c32"),o("417e")),n=o("6efa"),u=o("3de1"),d=o("3191"),p=o("f6b5"),l=o.n(p);l.a.use(i["a"]),l.a.use(c["a"]),l.a.use(r["a"]);var h={name:"Home",components:{headerBox:n["a"]},data:function(){return{shopId:"",checked:!1,ruleForm:{account:"",password:"",token:u["i"].get("token")}}},created:function(){var e=this,t=Object(u["f"])();this.shopId=t.shopId,Object(u["h"])(t.token)||(u["i"].set("token",t.token,{exp:86400}),u["i"].set("shopId",t.shopId,{exp:86400}),u["i"].set("orderFoodType",t.orderFoodType,{exp:86400}),setTimeout((function(){"0"===t.orderFoodType?e.$router.push({path:"choose"}):e.$router.push({path:"/"})}),500))},mounted:function(){u["i"].get("account")&&(this.ruleForm.account=u["i"].get("account")),u["i"].get("password")&&(this.ruleForm.password=u["i"].get("password"))},methods:{login:function(){var e=this;Object(u["a"])(this.ruleForm.account)?Object(r["a"])("正しい携帯電話番号を入力してください"):this.ruleForm.password?(this.checked&&(u["i"].set("account",this.ruleForm.account),u["i"].set("password",this.ruleForm.password)),Object(d["g"])({account:this.ruleForm.account,password:this.ruleForm.password,shopId:this.shopId}).then((function(t){1===t.appCode?(Object(r["a"])("ログイン成功"),u["i"].set("token",t.data.token,{exp:86400}),u["i"].set("shopId",t.data.shopId,{exp:86400}),u["i"].set("mobile",e.ruleForm.account,{exp:86400}),u["i"].set("orderFoodType",t.data.orderFoodType,{exp:86400}),setTimeout((function(){"0"===t.data.orderFoodType?e.$router.push({path:"choose"}):e.$router.push({path:"/"})}),500)):Object(r["a"])(t.appMsg)})).catch((function(e){}))):Object(r["a"])("パスワードを入力してください")}}},m=h,f=(o("f280"),o("2877")),v=Object(f["a"])(m,s,a,!1,null,"18b8a62a",null);t["default"]=v.exports},f280:function(e,t,o){"use strict";var s=o("17dc"),a=o.n(s);a.a}}]);